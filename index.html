<html>
  <head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="elm.min.js"></script>

    <link rel="stylesheet" href="bulma-0.7.1.min.css">
    <style>
      html { overflow-y: auto; }
      body { padding: 4px; }
      div.card:not(:last-child) { margin-bottom: 1.5rem; }
    </style>
  </head>

  <body>
    <script>
      // Keep '/' from opening Quick Find on Firefox.
      document.addEventListener('keydown', (ev) => {
        if (ev.which == 191 && ev.target.tagName != 'INPUT') {
          ev.preventDefault();
        }
      });

      let app = Elm.Main.init(
        {
          flags: {token: localStorage.getItem('token'),
                  repo: localStorage.getItem('repo')}
        }
      );
      app.ports.set.subscribe((args) => {localStorage.setItem(args[0], args[1])});
      app.ports.get.subscribe((key) => {app.ports.recv.send([key, localStorage.getItem(key)])});
      app.ports.del.subscribe((key) => {localStorage.removeItem(key)});
      app.ports.windowOpen.subscribe((url) => window.open(url, '_blank'));
    </script>
  </body>
</html>
